
<h1>
    Registrate
</h1>

<div class="alert alert-primary" role="alert" *ngIf="!status">
  Bienvenido a nuestra plataforma de agendamiento de citas,
  para acceder a nuestro servicio complete los campos del formulario
</div>

<div class="alert alert-success" *ngIf="status == 'success'">{{message}}</div>

<div class="alert alert-danger" *ngIf="status == 'error'">
    {{message}}
</div>

<hr>

<form class="row g-2" #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
    
    <div class="mt-3 col-md-6">
	<label class="form-label" for="name">Nombres</label>
	<input type="text" 
	    class="form-control" 
	    name="name" id="name" 
	    placeholder="Ingrese los nombres completos" 
	    #name="ngModel" 
	    [(ngModel)]="user.name" 
	    pattern="[a-zA-Z\s]{3,20}" 
	    required>
	<small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block ps-2">
	    Los nombres son invalidos, debe contener de 3 a 20 caracteres
	</small>
    </div>

    <div class="mt-3 col-md-6">
	<label class="form-label" for="lastname">Apellidos</label>
	<input type="text" 
	    class="form-control" 
	    name="latname" 
	    id="lastname" 
	    placeholder="Ingrese los apellidos completos" 
	    #lastname="ngModel" 
	    [(ngModel)]="user.lastname"
	    pattern="[a-zA-Z\s]{3,20}"
	    required>
	<small *ngIf="!lastname.valid && lastname.touched" class="invalid-feedback d-block ps-2">
	    Los apellidos son invalidos, debe contener de 3 a 20 caracteres
	</small>
    </div>

    <div class="mt-3">
	<label class="form-label" for="type_document">Tipo de documento</label>
	<select name="type_document" id="type_document" class="form-control" #type_document="ngModel" [(ngModel)]="user.type_document">
	    <option value="">Seleccione tipo de documento.....</option>
	    <option value="cedula de ciudadania">cedula de ciudadania</option>
	    <option value="libreta militar">libreta militar</option>
	</select>
    </div>

    <div class="mt-3 col-md-6">
	<label class="form-label" for="document">Documento</label>
	<input type="text" 
	    class="form-control" 
	    name="document" 
	    id="document" 
	    placeholder="Ingrese numero de documento" 
	    #document="ngModel" 
	    [(ngModel)]="user.document"
	    pattern="[a-zA-Z\d\s]{7,20}"
	    required>
	<small class="invalid-feedback d-block ps-2" *ngIf="!document.valid && document.touched">
	    El numero de documento invalido, debe contener de 7 a 20 caracteres
	</small>
    </div>
    
    <div class="mt-3 col-md-6">
	<label class="form-label" for="phone">Telefono</label>
	<input type="text" 
	    class="form-control" 
	    name="phone" 
	    id="phone" 
	    placeholder="Ingrese numero de telefono" 
	    #phone="ngModel" 
	    [(ngModel)]="user.phone"
	    pattern="[\d]{10,10}"
	    required>
	<small class="invalid-feedback d-block ps-2" *ngIf="!phone.valid && phone.touched">
	    El numero de telefono invalido, debe contener 10 numeros
	</small>
    </div>

    <div class="mt-3 col-md-6">
	<label class="form-label" for="email">Correo Electronico</label>
	<input type="text" 
	    class="form-control" 
	    name="email" 
	    id="email" 
	    placeholder="Ingrese correo Electronico" 
	    #email="ngModel" 
	    [(ngModel)]="user.email"
	    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
	    required>
	<small class="invalid-feedback d-block ps-2" *ngIf="!email.valid && email.touched">
	    El correo electronico es invalido
	</small>
    </div>

    <div class="mt-3 col-md-6">
	<label class="form-label" for="password">Contraseña</label>
	<input type="password"
	    class="form-control" 
	    name="password" 
	    id="password" 
	    placeholder="Ingrese una contraseña" 
	    #password="ngModel" 
	    [(ngModel)]="user.password"
	    pattern="[a-zA-Z0-9]{8,12}"
	    required>
	<small class="invalid-feedback d-block ps-2" *ngIf="!password.valid && password.touched">
	    La contraseña es invalida, debe contener de 8 a 12 caracteres y numeros
	</small>
    </div>
    
    <div class="mt-3 col-md-12">
	<button type="submit" class="btn btn-success mt-3 float-end" [disabled]="registerForm.invalid">Registrarme</button>
    </div>

</form>

